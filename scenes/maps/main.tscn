[gd_scene load_steps=13 format=3 uid="uid://c78bdq77ygnhk"]

[ext_resource type="PackedScene" uid="uid://bidwu6pvfcasl" path="res://scenes/player/player.tscn" id="1_8wxmh"]
[ext_resource type="PackedScene" uid="uid://bg7qt4fnwttvq" path="res://scenes/primitives/trigger.tscn" id="2_pwihf"]
[ext_resource type="PackedScene" uid="uid://kutieyc8oj64" path="res://scenes/primitives/dialogue_emitter_3d.tscn" id="3_gx8es"]
[ext_resource type="Resource" uid="uid://b7pcjhuuijv50" path="res://resources/dialogue/example.tres" id="4_2avkh"]
[ext_resource type="PackedScene" uid="uid://degcaoi7fvmio" path="res://scenes/interactable/pickable_item_node_template.tscn" id="6_n56wl"]
[ext_resource type="Resource" uid="uid://dc35a6vumpdfy" path="res://resources/items/test_item.tres" id="7_n56wl"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_8wxmh"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_pwihf"]
sky_material = SubResource("ProceduralSkyMaterial_8wxmh")

[sub_resource type="Environment" id="Environment_6hyye"]
background_mode = 2
sky = SubResource("Sky_pwihf")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8wxmh"]
albedo_color = Color(0.32941177, 0.1764706, 0, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_6hyye"]
size = Vector3(5, 5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_dlv6v"]

[node name="main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6hyye")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="concrete_ground" type="CSGBox3D" parent="." groups=["concrete"]]
use_collision = true
size = Vector3(20, 1, 20)

[node name="dirt_ground" type="CSGBox3D" parent="." groups=["dirt"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0, 0)
use_collision = true
size = Vector3(20, 1, 20)
material = SubResource("StandardMaterial3D_8wxmh")

[node name="player" parent="." instance=ExtResource("1_8wxmh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.516809, 2.1821399, 0)

[node name="dialogue_emitter_3d" parent="." instance=ExtResource("3_gx8es")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.556388, 2.8090482, 14.980329)
dialogue = ExtResource("4_2avkh")

[node name="trigger" parent="dialogue_emitter_3d" instance=ExtResource("2_pwihf")]

[node name="CollisionShape3D" parent="dialogue_emitter_3d/trigger" index="0"]
shape = SubResource("BoxShape3D_6hyye")

[node name="Yellow Cube" parent="." instance=ExtResource("6_n56wl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.771843, 2.7983403, 0)

[node name="InteractableNode" parent="Yellow Cube/Components" index="0"]
monitorable = false
is_on = false
interactable_name = "White Cube"

[node name="CollisionShape3D" parent="Yellow Cube/Components/InteractableNode" index="0"]
shape = SubResource("BoxShape3D_dlv6v")

[node name="DialogueEmitter3D" parent="Yellow Cube/Components" index="1"]
dialogue = ExtResource("4_2avkh")

[node name="ItemNode" parent="Yellow Cube/Components" index="2"]
item_data = ExtResource("7_n56wl")

[node name="CSGBox3D" type="CSGBox3D" parent="Yellow Cube/Components" index="3"]
metadata/_edit_lock_ = true

[connection signal="player_entered" from="dialogue_emitter_3d/trigger" to="dialogue_emitter_3d" method="start_dialogue"]

[editable path="dialogue_emitter_3d/trigger"]
[editable path="Yellow Cube"]
